\documentclass[letterpaper,twocolumn,10pt]{article}
\usepackage{usenix2019_v3}

\input{macros.tex}

% Shrink space between figs and text
% \setlength{\textfloatsep}{8pt plus 2pt minus 1pt}

% Shrink space between sections/subsections
% \usepackage{titlesec}
% \titlespacing\section{0pt}{8pt plus 2pt minus 1pt}{0pt plus 2pt minus 1pt}
% \titlespacing\subsection{0pt}{6pt plus 2pt minus 1pt}{0pt plus 2pt minus 1pt}
% \titlespacing\subsubsection{0pt}{6pt plus 2pt minus 1pt}{0pt plus 2pt minus 1pt}

%% Some recommended packages
\usepackage[normalem]{ulem}
\usepackage{booktabs}
\usepackage{pgfplotstable}
\usepackage{subcaption}
%\usepackage{natbib}
%\usepackage{epsfig}
%\usepackage[utf8x]{inputenc}
\usepackage{amsmath}
\let\Bbbk\relax
\usepackage{amssymb}
\usepackage{algorithm}
\usepackage{algorithmicx}
\usepackage[noend]{algpseudocode}
\usepackage{enumitem}      % adjust spacing in enums
%\usepackage{subfig}
%\usepackage{caption}
%\usepackage[hyphen]{url}

%enumitem settings
\setlist{
  listparindent=\parindent,
  parsep=0pt,
}

%% Custom packages
\usepackage{minted}
\usepackage{multirow}
\usepackage{rotating}
\usepackage{wrapfig}
\usepackage{tabu}
\usepackage{adjustbox}
\usepackage{pgfplots}
\usepackage{balance}
\usepackage{cleveref}
\usepackage{array}

% Fancy subsection references with cref
\crefformat{section}{\S#2#1#3} % see manual of cleveref, section 8.2.1
\crefformat{subsection}{\S#2#1#3}
\crefformat{subsubsection}{\S#2#1#3}

% Flexible table column specifications
\newcolumntype{C}[1]{>{\centering\arraybackslash}m{#1}}

%% Custom colors that are colorblind safe, print friendly, and photocopy safe
\definecolor{purpleDark}{RGB}{94, 60, 153}
\definecolor{purpleLight}{RGB}{178, 171, 210}
\definecolor{orangeDark}{RGB}{230, 97, 1}
\definecolor{orangeLight}{RGB}{253, 184, 99}

%% Custom fill patterns
\makeatletter
\pgfdeclarepatternformonly[\LineSpace]{custom north east lines}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{\LineSpace}{\LineSpace}}{\pgfqpoint{\LineSpace}{\LineSpace}}%
{
    \pgfsetcolor{\tikz@pattern@color}
    \pgfsetlinewidth{0.4pt}
    \pgfpathmoveto{\pgfqpoint{0pt}{0pt}}
    \pgfpathlineto{\pgfqpoint{\LineSpace + 0.1pt}{\LineSpace + 0.1pt}}
    \pgfusepath{stroke}
}

\pgfdeclarepatternformonly[\LineSpace]{custom north west lines}{\pgfqpoint{-1pt}{-1pt}}{\pgfqpoint{\LineSpace}{\LineSpace}}{\pgfqpoint{\LineSpace}{\LineSpace}}%
{
    \pgfsetcolor{\tikz@pattern@color}
    \pgfsetlinewidth{0.4pt}
    \pgfpathmoveto{\pgfqpoint{0pt}{\LineSpace}}
    \pgfpathlineto{\pgfqpoint{\LineSpace + 0.1pt}{-0.1pt}}
    \pgfusepath{stroke}
}
\makeatother

\newdimen\LineSpace
\tikzset{
    line space/.code={\LineSpace=#1},
    line space=3pt
}

%% Other custom colors
\definecolor{gray}{gray}{0.75}

% Ability to filter the values plotted from tables via `discard if not` key
\pgfplotsset{
    discard if symbol/.style 2 args={
        x filter/.append code={
            \edef\tempa{\thisrow{#1}}
            \edef\tempb{#2}
            \ifx\tempa\tempb
                \def\pgfmathresult{inf}
            \fi
        }
    }
}

\pgfplotsset{
    discard if symbol not/.style 2 args={
        x filter/.append code={
            \edef\tempa{\thisrow{#1}}
            \edef\tempb{#2}
            \ifx\tempa\tempb
            \else
                \def\pgfmathresult{inf}
            \fi
        }
    }
}

\pgfplotsset{
    discard if number/.style 2 args={
        x filter/.append code={
            \ifdim\thisrow{#1} pt=#2pt
                \def\pgfmathresult{inf}
            \fi
        }
    }
}

\pgfplotsset{
    discard if number not/.style 2 args={
        x filter/.append code={
            \ifdim\thisrow{#1} pt=#2pt
            \else
                \def\pgfmathresult{inf}
            \fi
        }
    }
}

%% Shortcuts
\newcommand{\ie}{\textit{i.e., }}
\newcommand{\eg}{\textit{e.g., }}
\newcommand{\CC}{C\nolinebreak\hspace{-.05em}\raisebox{.5ex}{\tiny\bf +}\nolinebreak\hspace{-.10em}\raisebox{.5ex}{\tiny\bf +}}

%% Units
\newcommand{\us}{\,$\mu$s}
\newcommand{\ms}{\,ms}
\newcommand{\KB}{\,KB}
\newcommand{\MB}{\,MB}
\newcommand{\GB}{\,GB}
\newcommand{\MHz}{\,MHz}
\newcommand{\GHz}{\,GHz}

%% Project name
\newcommand{\SystemURI}{https://github.com/ananonrepo2/\sys{}}%https://github.com/research/SwitchCrypt}

%% Reference parts of the paper
\newcommand{\figref}[1]{Fig.~\ref{fig:#1}}
\newcommand{\figsref}[2]{Figures~\ref{fig:#1} and~\ref{fig:#2}}
\newcommand{\figrref}[2]{Figures~\ref{fig:#1}--\ref{fig:#2}}
\newcommand{\secref}[1]{Section~\ref{sec:#1}}
\newcommand{\secsref}[2]{Sections~\ref{sec:#1} and~\ref{sec:#2}}
\newcommand{\eqnref}[1]{Eqn.~\ref{eqn:#1}}
\newcommand{\eqnsref}[2]{Equations~\ref{eqn:#1} and~\ref{eqn:#2}}
\newcommand{\eqnrref}[2]{Equations~\ref{eqn:#1}--\ref{eqn:#2}}
\newcommand{\insref}[1]{Instruction~\ref{ins:#1}}
\newcommand{\tblref}[1]{Table~\ref{tbl:#1}}
\newcommand{\appref}[1]{Appendix~\ref{app:#1}}
\newcommand{\algoref}[1]{Algorithm~\ref{algo:#1}}

\makeatletter
\newcommand\footnoteref[1]{\protected@xdef\@thefnmark{\ref{#1}}\@footnotemark}
\makeatother

%% Math
\newcommand{\argmin}{\arg\!\min}
\newcommand{\argmax}{\arg\!\max}
\newcommand{\minimize}{minimize}
\newcommand{\optimize}{optimize}
\newcommand{\ceil}[1]{\lceil #1 \rceil}
\newcommand{\floor}[1]{\lfloor #1 \rfloor}
\newcommand{\st}{s.t.}

%% Custom
\newcommand{\PUNT}[1]{}
\newcommand{\TODO}[1]{\textcolor{gray}{\textbf{\ [TODO:\ #1]\ }}}
\newcommand{\FIX}[1]{\textcolor{red}{\textbf{\ [FIX:\ #1]\ }}}
\newcommand{\hank}[1]{\textcolor{purple}{(Hank: #1)}}

%% For algorithms
\newcommand{\LineComment}[1]{\Statex \hfill\textit{#1}}

%% Configurations

\DeclareCaptionFormat{subfig}{\figurename~#1#2#3}
\DeclareCaptionSubType*{figure}
\captionsetup[subfigure]{format=subfig,labelsep=colon,labelformat=simple}

% Options for pgfplots
\pgfplotsset{compat=1.16,compat/show suggested version=false}
\usetikzlibrary{plotmarks}
\usetikzlibrary{calc}
\pgfplotsset{
    /pgfplots/bar  cycle  list/.style={/pgfplots/cycle  list={%
        {black,fill=black!30!white,mark=none},%
        {black,fill=red!30!white,mark=none},%
        {black,fill=green!30!white,mark=none},%
        {black,fill=yellow!30!white,mark=none},%
        {black,fill=brown!30!white,mark=none},%
    }},
}

% Begin of externalization
\usetikzlibrary{external}
\tikzexternalize[prefix=out/]
\tikzexternalize

% Ensure letter paper
\pdfpagewidth=8.5in
\pdfpageheight=11in

% Further configure pgfplots and tikz
\usetikzlibrary{patterns}
\usepgfplotslibrary{groupplots}
\pgfplotsset{
    every axis label/.append style={font=\small},
    tick label style={font=\small},
}

\pdfstringdefDisableCommands{
    \def\\{}
    \def\unskip{}
    \def\texttt#1{<#1>}
}

\graphicspath{{./figs/}{./data/}}

\pgfkeys{
    /pgf/number format/precision=1,
    /pgf/number format/fixed zerofill=true,
}

\pgfplotsset{
    nodes near coords greater equal only/.style={
        small value/.style={
            /tikz/coordinate,
        },
        every node near coord/.append style={
            check for small values/.code={
                \begingroup
                \pgfkeys{/pgf/fpu}
                \pgfmathparse{\pgfplotspointmeta<#1}
                \global\let\result=\pgfmathresult
                \endgroup
                \pgfmathfloatcreate{1}{1.0}{0}
                \let\ONE=\pgfmathresult
                \ifx\result\ONE
                    \pgfkeysalso{/pgfplots/small value}
                \fi
            },
            check for small values
        },
    },
}

\pgfplotsset{
    nodes near coords greater only/.style={
        small value/.style={
            /tikz/coordinate,
        },
        every node near coord/.append style={
            check for small values/.code={
                \begingroup
                \pgfkeys{/pgf/fpu}
                \pgfmathparse{\pgfplotspointmeta<=#1}
                \global\let\result=\pgfmathresult
                \endgroup
                \pgfmathfloatcreate{1}{1.0}{0}
                \let\ONE=\pgfmathresult
                \ifx\result\ONE
                    \pgfkeysalso{/pgfplots/small value}
                \fi
            },
            check for small values
        },
    },
}

% \author{Bernard Dickens III}
% \affiliation{
%   %\position{Position1}
%   %\department{Department1}              %% \department is recommended
%   \institution{University of Chicago}
%   % \streetaddress{5801 S Ellis Ave}
%   % \city{Chicago}
%   % \state{IL}
%   % \postcode{60637}
%   % \country{USA}
% }
% \email{bd3@cs.uchicago.edu}

% \author{Haryadi S. Gunawi}
% \affiliation{
%   %\position{Position1}
%   %\department{Department1}              %% \department is recommended
%   \institution{University of Chicago}
%   % \streetaddress{5801 S Ellis Ave}
%   % \city{Chicago}
%   % \state{IL}
%   % \postcode{60637}
%   % \country{USA}
% }
% \email{haryadi@cs.uchicago.edu}

% \author{David Cash}
% \affiliation{
%   %\position{Position1}
%   %\department{Department1}              %% \department is recommended
%   \institution{University of Chicago}
%   % \streetaddress{5801 S Ellis Ave}
%   % \city{Chicago}
%   % \state{IL}
%   % \postcode{60637}
%   % \country{USA}
% }
% \email{davidcash@cs.uchicago.edu}

% \author{Henry Hoffmann}
% \affiliation{
%   %\position{Position1}
%   %\department{Department1}              %% \department is recommended
%   \institution{University of Chicago}
%   % \streetaddress{5801 S Ellis Ave}
%   % \city{Chicago}
%   % \state{IL}
%   % \postcode{60637}
%   % \country{USA}
% }
% \email{hankhoffmann@cs.uchicago.edu}

\begin{document}

%% Title information
\title{\sys{}: Navigating Tradeoffs in Stream Cipher Based Full Drive Encryption}

\date{}
\maketitle

%% Abstract
\input{~abstract}

%% It begins!
\input{~intro}
\input{~motivation}
\input{~design}
%\input{~implementation}
\input{~evaluation}
\input{~usecases}
\input{~related}
\input{~conclusion}
\input{~acks}

% Uncomment to show all citable references:
% \cite{*}

%% Start a new page for your references:
%\clearpage
\pagebreak

%% Test printing all refs:
%\nocite{*}

\bibliographystyle{plain}
\bibliography{refs}

\end{document}
